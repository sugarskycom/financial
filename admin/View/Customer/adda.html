<extend name="Public:base" />
<block name="content">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title">
                    新增个人用户
                </div>
                <div class="ibox-content">
                    <form action="__URL__/adda" method="post" id="form" class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">用户登录名：</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="username" id="username" value="" placeholder="至少5个字符,字母开头，由字母、数字或下划线组成">
                            </div>
                            <div class="col-sm-6"></div>
                        </div>
                        <!---/form-group-->
                        <div class="form-group">
                            <label class="col-sm-2 control-label">用户实际姓名：</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="realname" id="realname" value="">
                            </div>
                            <div class="col-sm-6"></div>
                        </div>
                        <!---/form-group-->
                        <div class="form-group">
                            <label class="col-sm-2 control-label">身份证号码：</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="idcard" id="idcard" value="">
                            </div>
                            <div class="col-sm-6"></div>
                        </div>
                        <!---/form-group-->
                        <div class="form-group">
                            <label class="col-sm-2 control-label">手机号码：</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="mobile" id="mobile" value="" placeholder="11位数字">
                            </div>
                            <div class="col-sm-6"></div>
                        </div>
                        <!---/form-group-->
                        <div class="form-group">
                            <label class="col-sm-2 control-label">电子邮箱：</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="email" id="email" value="">
                            </div>
                            <div class="col-sm-6"></div>
                        </div>
                        <!---/form-group-->
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-3">
                                <button type="submit" class="btn btn-primary" id="btn" data-id="">保存</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</block>
<block name="js">
    <script type="text/javascript">
    $(function() {
        $("#form").validate({
            rules: {
                username: {
                    required: true,
                    isValidUser: true,
                },
                realname: {
                    required: true
                },
                idcard: {
                    required: true
                },
                mobile: {
                    required: true,
                    isMobile: true
                },
                email: {
                    required: true,
                    email: true
                }
            },
            messages: {
                username: {
                    required: '用户登录名不能为空',
                    isValidUser: '用户名格式无效，应为5~30位字母、数字或下划线“_”组成'
                },
                realname: {
                    required: '用户实际姓名不能为空'
                },
                idcard: {
                    required: '身份证号码不能为空'
                },
                mobile: {
                    required: '手机号码不能为空',
                    isMobile: '手机号码无效'
                },
                email: {
                    required: '电子邮箱不能为空',
                    email: '邮箱格式无效'
                }
            },
            errorPlacement: function(error, element) {
                error.appendTo(element.parent('div').next('div'));
            },
            errorClass: "error"
        });
    });
    $.validator.addMethod("isValidUser", function(value, element, params) {
        var reg = /^[a-zA-Z][a-zA-Z0-9_]{4,30}$/;
        if (reg.test(value))
            return true;
        else
            return false;
    });
    //验证手机号
    $.validator.addMethod("isMobile", function(value, element, params) {
        var reg = /^0?1[3|4|5|7|8][0-9]\d{8}$/;
        if (!reg.test(value)) {
            return false;
        } else {
            return true;
        }

    });
    </script>
</block>