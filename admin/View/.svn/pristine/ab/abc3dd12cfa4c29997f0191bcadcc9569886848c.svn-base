<extend name="Public:base" />
<block name="title">部门管理</block>
<block name="content">
<div class="row">
<div class="col-lg-12">
<div class="ibox">
<div class="ibox-title">部门列表</div>
<div class="ibox-content">
	<table class="table table-striped table-hover" id="dep-list">
		<tr>
			<th>名称</th>
			<th>描述</th>
		</tr>
		<volist name="lists" id="r">
			<tr>
				<td>{$r.name}</td>
				<td>{$r.description}</td>
			</tr>
		</volist>
	</table>
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">
<div class="ibox">
<div class="ibox-title">新增部门</div>
<div class="ibox-content">
<form action="__URL__/add" method="post" id="form-department" class="form-horizontal">
	<div class="form-group">
		<label class="col-sm-2 control-label">名称：</label>
		<div class="col-sm-4">
		<input class="form-control" id="name" name="name" type="text" value="" placeholder="部门名称"/>
		</div>
		<div class="col-sm-6"></div>
	</div>
	<!--/name-->
	<div class="form-group">
		<label class="col-sm-2 control-label">描述：</label>
		<div class="col-sm-10">
		<textarea class="form-control" id="description" name="description" size="2" placeholder="部门描述"></textarea>
		</div>
	</div>
	<!--/description-->
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-9">
			<input class="btn btn-primary" id="btnSave" name="btnSave" type="submit" value="新增"/>&nbsp;<span id="suc-info" class="text-success"></span>
			<span id="err-info" class="text-warning"></span>
		</div>
	</div>
	<!--/btn-->
</form>
</div>
</div>
</div>
</div>
</block>
<block name="js">
<script type="text/javascript">
	$(function(){
		$("#suc-info").text('');
		//验证
        $("#form-department").validate({
        	rules:{
        		name:{required:true}
        	},
        	messages:{
        		name:{required:"部门名称不能为空"}
        	},
			errorPlacement:function(error,element){
				error.appendTo(element.parent('div').next('div'));
			},
        	submitHandler:function(form){form.submit()
        	}

        });
	})
</script>
</block>